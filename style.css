/* --------- Theme Palette --------- */
:root{
  /* UCSD brand colors */
  --ucsd-navy: #182B49;
  --ucsd-gold: #C69214;

  /* Core tokens */
  --color-accent: var(--ucsd-navy);
  --text: oklch(30% 0 0);
  --border: oklch(90% 0.02 200);
  --sep: oklch(80% 0.03 200);

  /* Mixed tints for subtle UI states (modern browsers) */
  --accent-weak-bg: color-mix(in oklab, var(--ucsd-navy) 8%, white);
  --accent-mid-bg:  color-mix(in oklab, var(--ucsd-navy) 18%, white);
  --gold-weak-bg:   color-mix(in oklab, var(--ucsd-gold) 14%, white);
  --gold-mid-bg:    color-mix(in oklab, var(--ucsd-gold) 24%, white);
}

html { accent-color: var(--color-accent); }

/* --------- Baseline / Resets --------- */
*,
*::before,
*::after { box-sizing: border-box; }

body {
  /* Typography + readable line length*/
  font: 100%/1.5 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  color: var(--text);
  background: white;

  /* Constrain width + center*/
  max-width: 100ch;
  margin-inline: max(1rem, (100% - 100ch) / 2);
  padding-block: 1rem;
}

img, svg, video {
  max-width: 100%;
  height: auto;
  display: block;
}

/* --------- Headings --------- */
h1 {
  font-size: 400%;
  line-height: 1.1;
  text-wrap: balance;
  margin-block: 0.5em 0.3em;
}
h1, h2, h3, h4, h5, h6 {
  line-height: 1.1;
  text-wrap: balance;
}

/* --------- Links & Focus Visibility --------- */
a { color: inherit; text-decoration-thickness: .08em; }
a:focus-visible,
button:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: 0.2rem solid var(--ucsd-navy);
  outline-offset: 0.1rem;
}

/* --------- Navigation --------- */
/* Works whether nav contains direct <a> or a <ul><li> list */
nav {
  display: flex;
  flex-wrap: wrap;
  gap: 0;
  margin-block-end: 1rem;
  border-bottom: 1px solid var(--sep);
  background: var(--accent-weak-bg);
}

/* Flatten list semantics visually if used */
nav ul, nav li { display: contents; }

/* DEFAULT: UCSD blue links */
nav a {
  flex: 1;
  text-align: center;
  text-decoration: none;
  padding: 0.6em 0.8em;
  color: var(--ucsd-navy);
  border-bottom: 0.4em solid transparent;
}

/* Hover uses UCSD logo gold accent */
nav a:hover {
  border-bottom-color: var(--ucsd-gold);
  background: var(--gold-weak-bg);
}

/* Current page highlight */
nav a[aria-current="page"],
nav a.current {
  border-bottom-color: var(--ucsd-navy);
  background: color-mix(in oklab, var(--ucsd-navy) 6%, white);
  font-weight: 700;
  color: var(--ucsd-navy);
}

/* Keep current state obvious on hover */
nav a[aria-current="page"]:hover,
nav a.current:hover {
  border-bottom-color: var(--ucsd-gold);
  background: color-mix(in oklab, var(--ucsd-navy) 10%, white);
}

/* --------- Forms --------- */
input, textarea, button, select { font: inherit; color: inherit; }

/* Block layout defaults (Step 3.2) */
label, input, textarea, button, select { display: block; }

input, textarea, select {
  width: 100%;
  padding: 0.55em 0.65em;
  border: 1px solid var(--sep);
  border-radius: 0.35rem;
  background: white;
}

textarea { min-height: 8rem; resize: vertical; }

button {
  cursor: pointer;
  border: 1px solid var(--sep);
  border-radius: 0.45rem;
  color: var(--gold-mid-bg);
  background: var(--ucsd-navy);
  padding: 0.6em 0.9em;
}
button:hover { background: var(--ucsd-navy); }

/* Two-column form layout with CSS Grid + subgrid (Step 3.3) */
form {
  display: grid;
  grid-template-columns: auto 1fr; /* label | control */
  gap: 1em;
}

/* Each label spans both columns; its contents align to the subgrid */
label {
  display: grid;
  grid-template-columns: subgrid;
  grid-column: 1 / -1;
  gap: 0.5em;
}

/* Submit button spans full row */
button[type="submit"],
button:not([type]) { grid-column: 1 / -1; }

/* --------- Projects Grid --------- */
.projects {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(15em, 1fr));
  gap: 1em;
}

/* Align headings/images/paragraphs across cards using subgrid rows */
.projects > article {
  display: grid;
  grid-template-rows: subgrid;
  grid-row: span 3; /* each card spans 3 rows of the subgrid */
  border: 1px solid var(--border);
  border-radius: 0.5rem;
  background: var(--accent-weak-bg);
  padding: 0.9rem;
  transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease;
}
.projects > article:hover {
  background: var(--gold-weak-bg);
  transform: translateY(-1px);
  box-shadow: 0 2px 10px color-mix(in oklab, var(--ucsd-navy) 10%, transparent);
}

.projects h2 { margin: 0 0 0.4rem 0; font-size: 1.1rem; }

/* --------- Misc Utilities --------- */
hr {
  border: 0;
  border-top: 1px solid var(--border);
  margin-block: 1.5rem;
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }
}
